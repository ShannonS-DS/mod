<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
#floating-panel {
  position: absolute;
  top: 10px;
  left: 25%;
  z-index: 5;
  background-color: #fff;
  padding: 5px;
  border: 1px solid #999;
  text-align: center;
  font-family: 'Roboto','sans-serif';
  line-height: 30px;
  padding-left: 10px;
}

      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
      }
    </style>
  </head>

  <body>
    <div id="floating-panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map"></div>
    <script>

// This example requires the Visualization library. Include the libraries=visualization
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

var map, heatmap;

function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 13,
    center: {lat: 40.751888, lng: -73.986902},
    mapTypeId: google.maps.MapTypeId.SATELLITE
  });

    var marker = new google.maps.Marker({
        position: new google.maps.LatLng(40.7488748, -74.0085769),
        map: map,
        title: 'Pickup Location'
    });

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map
  });
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.8);
}

function getPoints() {
  return [{location: new google.maps.LatLng(40.742901, -73.992805), weight: 0.313160652905},{location: new google.maps.LatLng(40.739405, -74.006449), weight: 1.35992182773},{location: new google.maps.LatLng(40.7501558, -73.9769869), weight: 0.916619636006},{location: new google.maps.LatLng(40.740024, -74.005291), weight: 0.95513306609},{location: new google.maps.LatLng(40.745301, -73.986846), weight: 0.617898673084},{location: new google.maps.LatLng(40.7484063, -73.9709149), weight: 0.27800667642},{location: new google.maps.LatLng(40.7642198, -73.9709542), weight: 0.229154909001},{location: new google.maps.LatLng(40.7592117, -73.9846345), weight: 0.315632251159},{location: new google.maps.LatLng(40.759841, -73.984174), weight: 0.315632251159},{location: new google.maps.LatLng(40.753367, -73.974648), weight: 0.308949336542},{location: new google.maps.LatLng(40.7507764, -73.9744431), weight: 0.568154659939},{location: new google.maps.LatLng(40.7454129, -73.9813182), weight: 0.33275128851},{location: new google.maps.LatLng(40.7601759, -74.0027616), weight: 0.259063803075},{location: new google.maps.LatLng(40.7559713, -73.9769665), weight: 0.330409403677},{location: new google.maps.LatLng(40.747168, -73.9854922), weight: 0.342692721421},{location: new google.maps.LatLng(40.752197, -73.981822), weight: 0.782296547032},{location: new google.maps.LatLng(40.7614413, -73.9624232), weight: 0.960656522433},{location: new google.maps.LatLng(40.734672, -73.994585), weight: 0.843137374712},{location: new google.maps.LatLng(40.741921, -73.9893139), weight: 0.482019121916},{location: new google.maps.LatLng(40.7521958, -73.9934597), weight: 0.231017957042},{location: new google.maps.LatLng(40.7515409, -73.9678549), weight: 0.313160652905},{location: new google.maps.LatLng(40.746618, -73.993813), weight: 0.275032585638},{location: new google.maps.LatLng(40.744066, -73.987746), weight: 1.05139039067},{location: new google.maps.LatLng(40.7514288, -73.9876368), weight: 3.29703185104},{location: new google.maps.LatLng(40.749157, -73.972692), weight: 0.466124727483},{location: new google.maps.LatLng(40.7594164, -73.98317), weight: 0.300857601342},{location: new google.maps.LatLng(40.744061, -74.006811), weight: 0.213479227207},{location: new google.maps.LatLng(40.749101, -73.992006), weight: 1.1522608635},{location: new google.maps.LatLng(40.7558973, -73.9748157), weight: 0.6308342344},{location: new google.maps.LatLng(40.7681813, -73.9527762), weight: 0.231067393797},{location: new google.maps.LatLng(40.755035, -73.986639), weight: 0.222864382088},{location: new google.maps.LatLng(40.7404552, -74.0020106), weight: 0.223417738716},{location: new google.maps.LatLng(40.762293, -73.974457), weight: 0.223417738716},{location: new google.maps.LatLng(40.7584843, -73.9790271), weight: 0.280607570482},{location: new google.maps.LatLng(40.7503045, -73.9832025), weight: 0.295105795737},{location: new google.maps.LatLng(40.759165, -73.976744), weight: 0.435448498068},{location: new google.maps.LatLng(40.7508929, -73.9787183), weight: 0.264911170563},{location: new google.maps.LatLng(40.7654522, -73.9819937), weight: 0.210278078133},{location: new google.maps.LatLng(40.7615516, -73.9940688), weight: 1.47028585405},{location: new google.maps.LatLng(40.7477967, -73.9809529), weight: 0.226701224274},{location: new google.maps.LatLng(40.743451, -73.988194), weight: 0.524800938622},{location: new google.maps.LatLng(40.739522, -73.986849), weight: 0.222864382088},{location: new google.maps.LatLng(40.7507454, -73.9877625), weight: 0.330409403677},{location: new google.maps.LatLng(40.7427252, -73.9871623), weight: 0.226701224274},{location: new google.maps.LatLng(40.75533, -73.991177), weight: 0.347982930958},{location: new google.maps.LatLng(40.7534779, -73.9925251), weight: 1.05860581492},{location: new google.maps.LatLng(40.754728, -73.977875), weight: 0.571641660648},{location: new google.maps.LatLng(40.733922, -73.992792), weight: 1.27844888849},{location: new google.maps.LatLng(40.748245, -73.976288), weight: 0.304591800061},{location: new google.maps.LatLng(40.7478958, -73.9891568), weight: 0.445728764175},{location: new google.maps.LatLng(40.734791, -74.008436), weight: 0.304591800061},{location: new google.maps.LatLng(40.750959, -73.982724), weight: 1.89379350695},{location: new google.maps.LatLng(40.7485042, -73.988708), weight: 0.622171092604},{location: new google.maps.LatLng(40.7498286, -73.9722049), weight: 1.63314030433},{location: new google.maps.LatLng(40.7514557, -73.9760254), weight: 0.222864382088},{location: new google.maps.LatLng(40.7404767, -73.9892785), weight: 0.426958454415},{location: new google.maps.LatLng(40.7485013, -73.9749705), weight: 0.313160652905},{location: new google.maps.LatLng(40.7678043, -73.9559988), weight: 0.281045791571},{location: new google.maps.LatLng(40.7522886, -73.9896878), weight: 0.318418239393},{location: new google.maps.LatLng(40.7634317, -73.9652142), weight: 1.73597738137},{location: new google.maps.LatLng(40.7479284, -74.004724), weight: 0.281045791571},{location: new google.maps.LatLng(40.745734, -73.980209), weight: 0.28407732997},{location: new google.maps.LatLng(40.7499168, -73.9880581), weight: 1.36020734564},{location: new google.maps.LatLng(40.7520155, -74.0047377), weight: 0.284152087162},{location: new google.maps.LatLng(40.7513932, -74.0051843), weight: 0.28407732997},{location: new google.maps.LatLng(40.743265, -73.982009), weight: 1.46390717356},{location: new google.maps.LatLng(40.738504, -73.991798), weight: 0.842056132366},{location: new google.maps.LatLng(40.7561341, -73.9850935), weight: 0.679960913863},{location: new google.maps.LatLng(40.748439, -73.98456), weight: 0.287853380478},{location: new google.maps.LatLng(40.7533882, -73.9708588), weight: 0.262400469311},{location: new google.maps.LatLng(40.7485244, -73.9885457), weight: 0.264911170563},{location: new google.maps.LatLng(40.739497, -73.982665), weight: 0.259063803075},{location: new google.maps.LatLng(40.7642122, -73.9689903), weight: 0.352868604972},{location: new google.maps.LatLng(40.75413, -73.988335), weight: 0.345402775719},{location: new google.maps.LatLng(40.756498, -73.972362), weight: 0.33275128851},{location: new google.maps.LatLng(40.740196, -73.986359), weight: 0.242408767697},{location: new google.maps.LatLng(40.766287, -73.981848), weight: 1.05139039067},{location: new google.maps.LatLng(40.7350691, -74.0019694), weight: 1.26546470816},{location: new google.maps.LatLng(40.7507266, -73.9879255), weight: 0.272877920449},{location: new google.maps.LatLng(40.764219, -73.9809839), weight: 1.09151168179},{location: new google.maps.LatLng(40.737917, -73.992225), weight: 0.562091583141},{location: new google.maps.LatLng(40.756567, -73.990276), weight: 0.446529514122},{location: new google.maps.LatLng(40.7391764, -73.9799917), weight: 0.226701224274},{location: new google.maps.LatLng(40.737361, -73.99684), weight: 0.405169955428},{location: new google.maps.LatLng(40.736668, -73.997341), weight: 0.275032585638},{location: new google.maps.LatLng(40.7685356, -73.9819569), weight: 0.259063803075},{location: new google.maps.LatLng(40.7579667, -73.985552), weight: 0.314142827192},{location: new google.maps.LatLng(40.748974, -74.003236), weight: 1.80514560805},{location: new google.maps.LatLng(40.7672427, -73.9664877), weight: 0.210360009978},{location: new google.maps.LatLng(40.7423578, -73.9776648), weight: 0.58811434162},{location: new google.maps.LatLng(40.7692182, -73.9847694), weight: 0.913775400182},{location: new google.maps.LatLng(40.73466, -74.004748), weight: 0.84144003991},{location: new google.maps.LatLng(40.734034, -73.99505), weight: 0.255689777697},{location: new google.maps.LatLng(40.7426838, -73.9806384), weight: 0.231017957042},{location: new google.maps.LatLng(40.7428034, -73.9809203), weight: 1.51974374555},{location: new google.maps.LatLng(40.73733, -73.992654), weight: 0.238256383763},{location: new google.maps.LatLng(40.7658183, -73.9761954), weight: 0.330409403677},{location: new google.maps.LatLng(40.754251, -73.968978), weight: 0.551298847972},{location: new google.maps.LatLng(40.7507802, -73.9922322), weight: 0.295130274253},{location: new google.maps.LatLng(40.7485336, -73.9731443), weight: 0.506581248517},{location: new google.maps.LatLng(40.7502935, -73.9948451), weight: 0.308949336542},{location: new google.maps.LatLng(40.7622356, -73.9681807), weight: 0.562091583141},{location: new google.maps.LatLng(40.7643653, -73.9616082), weight: 0.253290624259},{location: new google.maps.LatLng(40.739673, -73.990945), weight: 0.308949336542},{location: new google.maps.LatLng(40.752814, -73.981372), weight: 0.497191401158},{location: new google.maps.LatLng(40.76457, -73.973636), weight: 0.783583404365},{location: new google.maps.LatLng(40.7615719, -73.9706375), weight: 0.253290624259},{location: new google.maps.LatLng(40.742645, -73.982462), weight: 1.19063788612},{location: new google.maps.LatLng(40.7413944, -74.0087615), weight: 0.259063803075},{location: new google.maps.LatLng(40.7603603, -73.9854112), weight: 1.55438281845},{location: new google.maps.LatLng(40.7641124, -73.9884895), weight: 1.42038664985},{location: new google.maps.LatLng(40.753517, -73.988787), weight: 0.280607570482},{location: new google.maps.LatLng(40.7564882, -73.9977608), weight: 0.713489348177},{location: new google.maps.LatLng(40.7424259, -73.9890012), weight: 0.207729498118},{location: new google.maps.LatLng(40.751577, -73.982275), weight: 0.434284890071},{location: new google.maps.LatLng(40.7509969, -73.9906194), weight: 0.272659642936},{location: new google.maps.LatLng(40.756581, -73.986156), weight: 0.413231041985},{location: new google.maps.LatLng(40.74701, -73.977188), weight: 0.243057773295},{location: new google.maps.LatLng(40.7516588, -73.9901341), weight: 0.641962241794},{location: new google.maps.LatLng(40.7456335, -73.9886658), weight: 0.253290624259},{location: new google.maps.LatLng(40.7691042, -73.9550486), weight: 1.16430658962},{location: new google.maps.LatLng(40.74197, -73.980859), weight: 0.226701224274},{location: new google.maps.LatLng(40.734846, -73.983122), weight: 0.231067393797},{location: new google.maps.LatLng(40.7357906, -73.9853623), weight: 0.424107592779},{location: new google.maps.LatLng(40.7379913, -73.9808273), weight: 0.315632251159},{location: new google.maps.LatLng(40.7546125, -73.9737345), weight: 0.653780133323},{location: new google.maps.LatLng(40.7336653, -73.9839818), weight: 0.494403814659},{location: new google.maps.LatLng(40.7422947, -73.9890803), weight: 0.231067393797},{location: new google.maps.LatLng(40.752935, -73.985488), weight: 0.682504922875},{location: new google.maps.LatLng(40.7533455, -73.9841268), weight: 0.922361558555},{location: new google.maps.LatLng(40.761789, -73.957441), weight: 0.255689777697},{location: new google.maps.LatLng(40.7547823, -73.9799375), weight: 0.313160652905},{location: new google.maps.LatLng(40.7581898, -73.9744323), weight: 0.740588430188},{location: new google.maps.LatLng(40.7586863, -73.9853225), weight: 1.19868775668},{location: new google.maps.LatLng(40.760776, -73.9844618), weight: 0.383533286365},{location: new google.maps.LatLng(40.7371856, -73.9813073), weight: 1.25877585826},{location: new google.maps.LatLng(40.762396, -73.978601), weight: 0.332239363451},{location: new google.maps.LatLng(40.745861, -73.984344), weight: 0.272190050722},{location: new google.maps.LatLng(40.737544, -74.003866), weight: 0.29405717081},{location: new google.maps.LatLng(40.7564522, -73.9703136), weight: 0.679960913863},{location: new google.maps.LatLng(40.746536, -73.985949), weight: 0.506106365697},{location: new google.maps.LatLng(40.7408836, -73.9879839), weight: 0.346860883782},{location: new google.maps.LatLng(40.753717, -73.977432), weight: 0.315632251159},{location: new google.maps.LatLng(40.750282, -73.981123), weight: 0.314850506095},{location: new google.maps.LatLng(40.7514189, -73.9780444), weight: 0.257212465749},{location: new google.maps.LatLng(40.7482826, -73.9881817), weight: 1.2616684688},{location: new google.maps.LatLng(40.7469225, -74.0083289), weight: 0.88217151243},{location: new google.maps.LatLng(40.73884, -73.985232), weight: 0.272877920449},{location: new google.maps.LatLng(40.745181, -73.982727), weight: 0.25240417725},{location: new google.maps.LatLng(40.7553537, -73.9754547), weight: 0.280607570482},{location: new google.maps.LatLng(40.7593048, -73.9592537), weight: 1.40449782936},{location: new google.maps.LatLng(40.7653667, -73.9875746), weight: 0.927644270803},{location: new google.maps.LatLng(40.748921, -73.977888), weight: 0.492073890781},{location: new google.maps.LatLng(40.7548731, -73.9821009), weight: 0.29405717081},{location: new google.maps.LatLng(40.7402559, -73.9905265), weight: 1.62067982171},{location: new google.maps.LatLng(40.756032, -73.979024), weight: 0.405169955428},{location: new google.maps.LatLng(40.7703721, -73.9642042), weight: 0.352868604972},{location: new google.maps.LatLng(40.7675414, -73.953249), weight: 0.224672894552},{location: new google.maps.LatLng(40.739088, -73.991375), weight: 0.240164130608},{location: new google.maps.LatLng(40.7660319, -73.9833766), weight: 0.223417738716},{location: new google.maps.LatLng(40.741408, -73.983362), weight: 0.731556863967},{location: new google.maps.LatLng(40.736178, -74.003527), weight: 0.462035914084},{location: new google.maps.LatLng(40.7503099, -73.9911047), weight: 0.466277307939},{location: new google.maps.LatLng(40.749706, -73.991563), weight: 0.421953079803},{location: new google.maps.LatLng(40.7603668, -73.9718094), weight: 0.253053182849},{location: new google.maps.LatLng(40.7429677, -74.005597), weight: 0.33275128851},{location: new google.maps.LatLng(40.7579071, -73.9892986), weight: 0.308949336542},{location: new google.maps.LatLng(40.7592744, -73.9808828), weight: 0.288466760936},{location: new google.maps.LatLng(40.7528885, -73.9677116), weight: 0.29405717081},{location: new google.maps.LatLng(40.762967, -73.973968), weight: 0.330409403677},{location: new google.maps.LatLng(40.7430547, -73.987971), weight: 0.332239363451},{location: new google.maps.LatLng(40.749724, -73.983621), weight: 0.206368505578},{location: new google.maps.LatLng(40.7528799, -73.977383), weight: 1.36020734564},{location: new google.maps.LatLng(40.752159, -73.987491), weight: 1.10558925115},{location: new google.maps.LatLng(40.752895, -73.989243), weight: 0.213479227207},{location: new google.maps.LatLng(40.7609506, -73.9670772), weight: 0.339980456932},{location: new google.maps.LatLng(40.741056, -73.997862), weight: 0.275032585638},{location: new google.maps.LatLng(40.743945, -73.983627), weight: 0.304591800061},{location: new google.maps.LatLng(40.754155, -73.980395), weight: 0.27800667642},{location: new google.maps.LatLng(40.7352056, -73.9857884), weight: 0.210278078133},{location: new google.maps.LatLng(40.768594, -73.9677605), weight: 0.313160652905},{location: new google.maps.LatLng(40.7488748, -74.0085769), weight: 0.494403814659}]
}

</script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?signed_in=true&libraries=visualization&callback=initMap">
    </script>
</body>
</html>
