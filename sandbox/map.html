<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
#floating-panel {
  position: absolute;
  top: 10px;
  left: 25%;
  z-index: 5;
  background-color: #fff;
  padding: 5px;
  border: 1px solid #999;
  text-align: center;
  font-family: 'Roboto','sans-serif';
  line-height: 30px;
  padding-left: 10px;
}

      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
      }
    </style>
  </head>

  <body>
    <div id="floating-panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map"></div>
    <script>

// This example requires the Visualization library. Include the libraries=visualization
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

var map, heatmap;

function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 13,
    center: {lat: 40.751888, lng: -73.986902},
    mapTypeId: google.maps.MapTypeId.SATELLITE
  });

    var marker = new google.maps.Marker({
        position: new google.maps.LatLng(40.712057, -74.011996),
        map: map,
        title: 'Pickup Location'
    });

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map
  });
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.8);
}

function getPoints() {
  return [{location: new google.maps.LatLng(40.760104, -73.984808), weight: 2.28873854267},{location: new google.maps.LatLng(40.729429, -73.978001), weight: 0.785006527196},{location: new google.maps.LatLng(40.729884, -73.989664), weight: 0.757519088832},{location: new google.maps.LatLng(40.762952, -73.969877), weight: 1.25629828593},{location: new google.maps.LatLng(40.723795, -74.000367), weight: 1.01828932811},{location: new google.maps.LatLng(40.714383, -74.010128), weight: 1.13449946089},{location: new google.maps.LatLng(40.742276, -73.977726), weight: 1.08519519735},{location: new google.maps.LatLng(40.720983, -73.98695), weight: 5.93100241512},{location: new google.maps.LatLng(40.742839, -74.000275), weight: 3.18542918901},{location: new google.maps.LatLng(40.723308, -74.002982), weight: 1.66866122994},{location: new google.maps.LatLng(40.740115, -73.982211), weight: 0.788409279381},{location: new google.maps.LatLng(40.755354, -73.977417), weight: 1.35155359838},{location: new google.maps.LatLng(40.740942, -74.007483), weight: 1.70053788875},{location: new google.maps.LatLng(40.765452, -73.981994), weight: 1.30567731636},{location: new google.maps.LatLng(40.758533, -73.988842), weight: 1.41625666899},{location: new google.maps.LatLng(40.804826, -73.966233), weight: 1.35155359838},{location: new google.maps.LatLng(40.71576, -74.004976), weight: 1.01656787988},{location: new google.maps.LatLng(40.760457, -73.98373), weight: 6.82591969073},{location: new google.maps.LatLng(40.75832, -73.99642), weight: 1.08643560334},{location: new google.maps.LatLng(40.73131, -73.988626), weight: 0.930030301064},{location: new google.maps.LatLng(40.76229, -73.986104), weight: 1.01328174966},{location: new google.maps.LatLng(40.717265, -74.009064), weight: 2.39204578652},{location: new google.maps.LatLng(40.755951, -73.990726), weight: 1.00929026507},{location: new google.maps.LatLng(40.755971, -73.976967), weight: 4.05466079514},{location: new google.maps.LatLng(40.730581, -74.001684), weight: 4.71003916318},{location: new google.maps.LatLng(40.725208, -73.995846), weight: 1.03944756053},{location: new google.maps.LatLng(40.763598, -73.971404), weight: 1.17799624189},{location: new google.maps.LatLng(40.731669, -74.006624), weight: 1.51503817766},{location: new google.maps.LatLng(40.724632, -73.998585), weight: 1.14748890094},{location: new google.maps.LatLng(40.756567, -73.990276), weight: 5.52279577116},{location: new google.maps.LatLng(40.739405, -74.006449), weight: 3.91703194908},{location: new google.maps.LatLng(40.708304, -74.011248), weight: 1.35155359838},{location: new google.maps.LatLng(40.728595, -73.987672), weight: 3.79951257232},{location: new google.maps.LatLng(40.764219, -73.980984), weight: 1.5357667048},{location: new google.maps.LatLng(40.765931, -73.963386), weight: 9.72449504895},{location: new google.maps.LatLng(40.75927, -73.980886), weight: 18.4388110127},{location: new google.maps.LatLng(40.7603, -73.994983), weight: 0.767163611704}]
}

</script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?signed_in=true&libraries=visualization&callback=initMap">
    </script>
</body>
</html>
